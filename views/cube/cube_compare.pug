extends ../layout

block content
  link(rel='stylesheet' href='/css/tags.css')
  link(rel='stylesheet' href='/css/editcube.css')
  .cubenav
    ul.nav.nav-tabs.nav-fill(style='padding-top:10px;')
      li.nav-item
        h5(href='#' style='color: #218937;padding:5px;') Compare Cubes
        h6(href='#' style='color: #218937;padding:5px;')
          span(style='color: #495057; padding:5px;') Base Cube:
          a(href='/cube/list/'+cube_id style='color: #218937;padding:5px;') #{cube.name}
            |  (#{cube.card_count} cards)
          span(style='color: #495057; padding:5px;') Comparison Cube:
          a(href='/cube/list/'+cubeB._id style='color: #218937;padding:5px;') #{cubeB.name}
            |  (#{cubeB.card_count} cards)

  include ../flash

  input#cubeID(type='hidden', name='cubeID', value=cube_id)
  input#cubeB_ID(type='hidden', name='cubeB_ID', value=cube_b_id)
  input#in_both(type='hidden', name='in_both', value=in_both)
  input#only_a(type='hidden', name='only_a', value=only_a)
  input#only_b(type='hidden', name='only_b', value=only_b)
  input#cuberaw(type='hidden', name='cuberaw', value=cube_raw)
  input#cubeTagColors(type='hidden', name='cubeTagColors', value=JSON.stringify(cube.tag_colors.concat(cubeB.tag_colors)))
  if cube.default_sorts
    input#sort1(type='hidden', name='edittoken', value=cube.default_sorts[0])
    input#sort2(type='hidden', name='edittoken', value=cube.default_sorts[1])

  //Cube list
  #react-root

  // Modal
  #contextModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
    .modal-dialog.modal-dialog-centered.modal-lg(role='document')
      .modal-content
        .modal-header
          h5#contextModalTitle.modal-title Ambush Viper
          button.close(type='button', data-dismiss='modal', aria-label='Close')
            span(aria-hidden='true') ×
        .row.no-gutters
          .col-4(style='padding: 4px;')
            img#contextModalImg.card-img(src="https://img.scryfall.com/cards/normal/front/0/c/0c082aa8-bf7f-47f2-baf8-43ad253fd7d7.jpg?1545408427", alt='...')
            .price-area
          .col-8
            .modal-body
              fieldset(disabled='')
                h5 Card Attributes
                .input-group.mb-3
                  .input-group-prepend
                    span.input-group-text Version (Set and #)
                  select#contextModalVersionSelect.custom-select
                .input-group.mb-3
                  .input-group-prepend
                    span.input-group-text Status
                  select#contextModalStatusSelect.custom-select
                .input-group.mb-3
                  .input-group-prepend
                    span.input-group-text CMC
                  input#contextModalCMC.form-control(type='text', value='2', aria-label='Username', aria-describedby='basic-addon1')
                .input-group.mb-3
                  .input-group-prepend
                    span.input-group-text Type
                  input#contextModalType.form-control(type='text', value='2')
                h6 Color Identity Override:
                .form-check.form-check-inline
                  input#contextModalCheckboxW.form-check-input(type='checkbox', value='option1')
                  label.form-check-label(for='contextModalCheckboxW')
                    img(src='/content/symbols/w.png' alt='White' title='White')
                .form-check.form-check-inline
                  input#contextModalCheckboxU.form-check-input(type='checkbox', value='option2')
                  label.form-check-label(for='contextModalCheckboxU')
                    img(src='/content/symbols/u.png' alt='Blue' title='Blue')
                .form-check.form-check-inline
                  input#contextModalCheckboxB.form-check-input(type='checkbox', value='option3')
                  label.form-check-label(for='contextModalCheckboxB')
                    img(src='/content/symbols/b.png' alt='Black' title='Black')
                .form-check.form-check-inline
                  input#contextModalCheckboxR.form-check-input(type='checkbox', value='option4')
                  label.form-check-label(for='contextModalCheckboxR')
                    img(src='/content/symbols/r.png' alt='Red' title='Red')
                .form-check.form-check-inline
                  input#contextModalCheckboxG.form-check-input(type='checkbox', value='option5')
                  label.form-check-label(for='contextModalCheckboxG')
                    img(src='/content/symbols/g.png' alt='Green' title='Green')
                h5 Tags
                .tags-area#contextTags
                  .tags-input(data-name='tags-input')
                    span.tags
                    input.hidden-input(type='hidden')
        .modal-footer
          a#contextScryfallButton(href="#", target="_blank")
            button.btn.btn-secondary(type='button') View on Scryfall
          a#contextBuyButton(href="#", target="_blank")
            button.btn.btn-secondary(type='button') Buy

  // Modal
  #tagColorsModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
    .modal-dialog.modal-dialog-centered.modal-lg(role='document')
      .modal-content
        .modal-header
          h5#tagColorsTitle.modal-title View Tag Colors
          button.close(type='button', data-dismiss='modal', aria-label='Close')
            span(aria-hidden='true') ×
        #showTagColors
          .form-check.form-check-inline
            input#showTagColorsCheckbox.form-check-input(type='checkbox')
            label.form-check-label(for='showTagColorsCheckbox') Show Tag Colors in Card List 
        #tagsColumn.col

        .modal-footer
          button#tagColorsCancel.btn.btn-danger(type='button', data-dismiss='modal', aria-label='Close') Close

  // Filter Modal
  #filterModal.modal.fade(tabindex='-1', role='dialog')
    .modal-dialog.modal-dialog-centered.modal-lg(role='document')
      .modal-content
        .modal-header
          h5.modal-title Advanced Filter
          button.close(type='button', data-dismiss='modal', aria-label='Close')
            span(aria-hidden='true') ×
        .modal-body
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Card Name
            input#filterName.form-control(type='text', placeholder='Any words in the name, e.g. "Fire"')       
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Oracle Text
            input#filterOracle.form-control(type='text', placeholder='Any text, e.g. "Draw a card"')        
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text CMC
            select.custom-select#filterCMCOp
              option(value='=' selected='') equal to
              option(value='<') less than
              option(value='>') greater than
              option(value='<=') less than or equal to
              option(value='>=') greater than or equal to
              option(value='!') not equal to
            input#filterCMC.form-control(type='text', placeholder='Any value, e.g. "2"')   
          hr
          h6.span Color: 
            .form-check.form-check-inline
              input#filterColorW.form-check-input(type='checkbox', value='option1')
              label.form-check-label(for='groupContextModalCheckboxW')
                img(src='/content/symbols/w.png' alt='White' title='White')
            .form-check.form-check-inline
              input#filterColorU.form-check-input(type='checkbox', value='option2')
              label.form-check-label(for='groupContextModalCheckboxU')
                img(src='/content/symbols/u.png' alt='Blue' title='Blue')
            .form-check.form-check-inline
              input#filterColorB.form-check-input(type='checkbox', value='option3')
              label.form-check-label(for='groupContextModalCheckboxB')
                img(src='/content/symbols/b.png' alt='Black' title='Black')
            .form-check.form-check-inline
              input#filterColorR.form-check-input(type='checkbox', value='option4')
              label.form-check-label(for='groupContextModalCheckboxR')
                img(src='/content/symbols/r.png' alt='Red' title='Red')
            .form-check.form-check-inline
              input#filterColorG.form-check-input(type='checkbox', value='option5')
              label.form-check-label(for='groupContextModalCheckboxG')
                img(src='/content/symbols/g.png' alt='Green' title='Green')
            .form-check.form-check-inline
              input#filterColorC.form-check-input(type='checkbox', value='option6')
              label.form-check-label(for='groupContextModalCheckboxC')
                img(src='/content/symbols/c.png' alt='Colorless' title='Colorless')
          select.custom-select#filterColorOp
            option(value='=' selected='') Exactly these colors
            option(value='>=') Including these colors
            option(value='<=') At most these colors
          hr
          h6.span Color Identity: 
            .form-check.form-check-inline
              input#filterColorIdentityW.form-check-input(type='checkbox', value='option1')
              label.form-check-label(for='groupContextModalCheckboxW')
                img(src='/content/symbols/w.png' alt='White' title='White')
            .form-check.form-check-inline
              input#filterColorIdentityU.form-check-input(type='checkbox', value='option2')
              label.form-check-label(for='groupContextModalCheckboxU')
                img(src='/content/symbols/u.png' alt='Blue' title='Blue')
            .form-check.form-check-inline
              input#filterColorIdentityB.form-check-input(type='checkbox', value='option3')
              label.form-check-label(for='groupContextModalCheckboxB')
                img(src='/content/symbols/b.png' alt='Black' title='Black')
            .form-check.form-check-inline
              input#filterColorIdentityR.form-check-input(type='checkbox', value='option4')
              label.form-check-label(for='groupContextModalCheckboxR')
                img(src='/content/symbols/r.png' alt='Red' title='Red')
            .form-check.form-check-inline
              input#filterColorIdentityG.form-check-input(type='checkbox', value='option5')
              label.form-check-label(for='groupContextModalCheckboxG')
                img(src='/content/symbols/g.png' alt='Green' title='Green')
            .form-check.form-check-inline
              input#filterColorIdentityC.form-check-input(type='checkbox', value='option6')
              label.form-check-label(for='groupContextModalCheckboxC')
                img(src='/content/symbols/c.png' alt='Colorless' title='Colorless')
          select.custom-select#filterColorIdentityOp
            option(value='=' selected='') Exactly these colors
            option(value='>=') Including these colors
            option(value='<=') At most these colors
          hr 
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Mana Cost
            input#filterMana.form-control(type='text', placeholder='Any mana cost, e.g. "{1}{W}"')
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Type Line
            input#filterType.form-control(type='text', placeholder='Choose any card type, supertype, or subtypes to match')
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Tag
            input#filterTag.form-control(type='text', placeholder='Any text, e.g. "Zombie Testing"')            
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Status
            select.custom-select#filterStatus
              option(selected='')
              option(value='Not Owned') Not Owned
              option(value='Ordered') Ordered
              option(value='Owned') Owned
              option(value='Premium Owned') Premium Owned
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Price
            select.custom-select#filterPriceOp
              option(value='=' selected='') equal to
              option(value='<') less than
              option(value='>') greater than
              option(value='<=') less than or equal to
              option(value='>=') greater than or equal to
            input#filterPrice.form-control(type='text', placeholder='Any decimal number, e.g. "3.50"')        
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Foil Price
            select.custom-select#filterPriceFoilOp
              option(value='=' selected='') equal to
              option(value='<') less than
              option(value='>') greater than
              option(value='<=') less than or equal to
              option(value='>=') greater than or equal to
            input#filterPriceFoil.form-control(type='text', placeholder='Any decimal number, e.g. "3.50"')  
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Power
            select.custom-select#filterPowerOp
              option(value='=' selected='') equal to
              option(value='<') less than
              option(value='>') greater than
              option(value='<=') less than or equal to
              option(value='>=') greater than or equal to
              option(value='!') not equal to
            input#filterPower.form-control(type='text', placeholder='Any value, e.g. "2"')   
          .input-group.mb-3
            .input-group-prepend
              span.input-group-text Toughness
            select.custom-select#filterToughnessOp
              option(value='=' selected='') equal to
              option(value='<') less than
              option(value='>') greater than
              option(value='<=') less than or equal to
              option(value='>=') greater than or equal to
              option(value='!') not equal to
            input#filterToughness.form-control(type='text', placeholder='Any value, e.g. "2"')       
        .modal-footer
          button.btn.btn-danger(type='button', data-dismiss='modal', aria-label='Close') Cancel
          button.btn.btn-success#applyAdvancedFilterButton(type='button') Apply

  script(src='/js/sortfilter.js')
  script(src='/js/tags.js')
  script(src='/js/editcube.js')
  script(src='/js/cube_compare.bundle.js')
